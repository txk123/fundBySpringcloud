<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.txk.springcloudstart.serverfeign.dao.IFundInfoDao">

    <resultMap id="fundInfoRes" type="com.txk.springcloudstart.serverfeign.vo.FundInfoVo">
        <id property="id" column="id"/>
        <!-- 用result属性来映射非主键字段 -->
        <result property="fundCode" column="FUND_CODE"/>
        <result property="fundName" column="fund_name"/>
        <result property="fundFullName" column="FUND_FULL_NAME"/>
        <result property="beginDate" column="BEGIN_DATE"/>
        <result property="endDate" column="end_date"/>
        <result property="custodianCode" column="custodian_code"/>
        <result property="taCode" column="ta_code"/>
        <result property="isGrade" column="is_grade"/>
        <result property="status" column="status"/>
        <result property="fundType" column="fund_type"/>
        <result property="fundCategory" column="fund_category"/>
        <result property="settleParticipantNo" column="settle_participant_no"/>
        <result property="ssHolderCode" column="ss_holder_code"/>
        <result property="szHolderCode" column="sz_holder_code"/>
        <result property="needReview" column="need_review"/>
        <result property="reviewer" column="reviewer"/>
        <result property="reviewTime" column="review_time"/>
        <result property="remark" column="remark"/>
        <result property="createUser" column="create_user"/>
        <result property="createTm" column="create_tm"/>
        <result property="lastUpdateUser" column="last_update_user"/>
        <result property="lastUpdateTm" column="last_update_tm"/>
    </resultMap>
    <delete id="removeFunds" >
        DELETE FROM PARM_FUND_INFO t WHERE t.id IN
        <foreach collection="list" item="item" open="("
                 separator="," close=")">
            #{item.id}
        </foreach>
    </delete>


    <select id="queryFundInfo" resultMap="fundInfoRes"
            parameterType="com.txk.springcloudstart.serverfeign.vo.FundInfoVo">
        select *
        from PARM_FUND_INFO t
        <where>
            <if test="fundCode !=null and fundCode != '' ">
                t.FUND_CODE=#{fundCode}
            </if>
            <if test="fundFullName !=null and fundFullName != ''">
                and t.FUND_FULL_NAME=#{fundFullName}
            </if>
            <if test="fundCategory !=null and fundCategory != ''">
                and t.fund_category=#{fundCategory}
            </if>
            <if test="taCode !=null and taCode != ''">
                and t.ta_code=#{taCode}
            </if>
            <if test="custodianCode !=null and custodianCode != ''">
                and t.custodian_code=#{custodianCode}
            </if>
            <if test="needReview !=null and needReview != ''">
                and t.need_review=#{needReview}
            </if>
        </where>
    </select>
</mapper>